<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Registo Paciente</title>
    <link rel="stylesheet" th:href="@{/styles.css}" />
    <link rel="stylesheet" th:href="@{/registo.css}" />
  </head>
  <body>
    <div class="container">
      <h2>Registo</h2>

      <form th:action="@{/registo}" th:object="${paciente}" method="post">
        <div class="form-group">
          <label for="nome">Nome:</label>
          <input type="text" id="nome" th:field="*{nome}" />
          <div
            class="error"
            th:if="${#fields.hasErrors('nome')}"
            th:errors="*{nome}"
          ></div>
        </div>

        <div class="form-group">
          <label for="email">Email:</label>
          <input type="email" id="email" th:field="*{email}" />
          <div
            class="error"
            th:if="${#fields.hasErrors('email')}"
            th:errors="*{email}"
          ></div>
        </div>

        <div class="form-group">
          <label for="password">Password:</label>
          <input type="password" id="password" th:field="*{password}" />
          <div
            class="error"
            th:if="${#fields.hasErrors('password')}"
            th:errors="*{password}"
          ></div>
        </div>

        <div class="form-group">
          <label for="username">Username:</label>
          <input type="text" id="username" th:field="*{username}" />
          <div
            class="error"
            th:if="${#fields.hasErrors('username')}"
            th:errors="*{username}"
          ></div>
        </div>

        <div class="form-group">
          <label for="idade">Idade:</label>
          <input type="number" id="idade" th:field="*{idade}" />
          <div
            class="error"
            th:if="${#fields.hasErrors('idade')}"
            th:errors="*{idade}"
          ></div>
        </div>

        <div class="form-group">
          <label for="numeroUtente">NÂº Utente:</label>
          <input type="text" id="numeroUtente" th:field="*{numeroUtente}" />
          <div
            class="error"
            th:if="${#fields.hasErrors('numeroUtente')}"
            th:errors="*{numeroUtente}"
          ></div>
        </div>

        <button type="submit">Registar</button>
        <a th:href="@{/login}" class="link">Voltar ao Login</a>
      </form>

      <div th:if="${erroEmail != null}" class="custom-error">
        <p th:text="${erroEmail}"></p>
      </div>

      <div th:if="${erroNumeroUtente != null}" class="custom-error">
        <p th:text="${erroNumeroUtente}"></p>
      </div>
    </div>
  </body>
</html>
